=== AI 原始响应 ===
{
  "search_space": {
    "learning_rate": {"type": "float", "min": 0.005, "max": 0.1, "scaling": "log"},
    "momentum": {"type": "float", "min": 0.0, "max": 0.99, "scaling": "linear"},
    "subspace_dim": {"type": "categorical", "values": [0, 5, 10, 20, 33]},
    "use_momentum_projection": {"type": "categorical", "values": [true, false]}
  },
  "rationale": "This scenario probes degenerate subspace ranks and momentum extremes; thus we tune subspace_dim to explicitly include r=0 (no updates) and r=D=33 (FedAvg-equivalent) alongside intermediate ranks, momentum across its full practical range to reveal sensitivity, learning_rate on a log scale for stability and speed, and a binary toggle for momentum projection to validate its impact in edge cases.",
  "num_trials": 12,
  "expected_improvement": "Random search should identify settings that avoid flat learning at r=0, confirm equivalence at r=D, and improve convergence by selecting appropriate rank and momentum (e.g., r in {10–33}, momentum in {0.8–0.95}), yielding faster loss decline and 2–5% absolute accuracy gains over untuned defaults."
}

=== 提示词 ===
You are an expert in hyperparameter optimization. Design a Search Space for Random Search hyperparameter tuning.

# Scenario Information
Name: edge_cases_for_subspace_and_momentum
Description: Validate correctness and limits by testing degenerate subspace dimensions and momentum extremes.

# Current Performance (Baseline)
{
  "train_loss": {
    "means": [
      0.9203616736614998,
      0.6149610775511207,
      0.5454234211558869,
      0.47951632887604745,
      0.4378034493052712,
      0.4096301705070512,
      0.38231544120392713,
      0.36614612239588623,
      0.34693592768357123,
      0.3362230135501797,
      0.3219046211856194,
      0.3141720549264415,
      0.303010758238103,
      0.29709660145781824,
      0.28809157191700674,
      0.2833732852992854,
      0.27591035324914737,
      0.2720229804588607,
      0.265704917740011,
      0.26241992002520464,
      0.2569783115754981,
      0.25414508927182455,
      0.24939180957297302,
      0.24690697657047045,
      0.24270604755972644,
      0.2404961941086544,
      0.23674671442938114,
      0.23475821554520812,
      0.23138359784615822,
      0.22957632075308665,
      0.2265172757455609,
      0.22486055018927079,
      0.2220703782901596,
      0.2205403338427712,
      0.21798168385846625,
      0.2165594418883162,
      0.21420202881148195,
      0.21287244501470431,
      0.21069141060736485,
      0.20944218165540335
    ],
    "stds": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ]
  },
  "test_accuracy": {
    "means": [
      0.18,
      0.4425,
      0.4475,
      0.49125,
      0.515,
      0.5375,
      0.55625,
      0.57125,
      0.58,
      0.5925,
      0.5975,
      0.6075,
      0.61375,
      0.62125,
      0.62,
      0.63125,
      0.6275,
      0.63375,
      0.64,
      0.64375,
      0.645,
      0.655,
      0.65625,
      0.6575,
      0.65875,
      0.6625,
      0.66375,
      0.665,
      0.6675,
      0.66875,
      0.67,
      0.6725,
      0.67375,
      0.67625,
      0.6775,
      0.68,
      0.68,
      0.68125,
      0.68375,
      0.685
    ],
    "stds": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ]
  },
  "cumulative_comm_floats": {
    "means": [
      660.0,
      1320.0,
      1980.0,
      2640.0,
      3300.0,
      3960.0,
      4620.0,
      5280.0,
      5940.0,
      6600.0,
      7260.0,
      7920.0,
      8580.0,
      9240.0,
      9900.0,
      10560.0,
      11220.0,
      11880.0,
      12540.0,
      13200.0,
      13860.0,
      14520.0,
      15180.0,
      15840.0,
      16500.0,
      17160.0,
      17820.0,
      18480.0,
      19140.0,
      19800.0,
      20460.0,
      21120.0,
      21780.0,
      22440.0,
      23100.0,
      23760.0,
      24420.0,
      25080.0,
      25740.0,
      26400.0
    ],
    "stds": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ]
  },
  "update_norm": {
    "means": [
      0.42374005604829146,
      0.6747100306534721,
      0.3219421443019728,
      0.3276755466895377,
      0.25868182038942295,
      0.22387254182607885,
      0.2143797806876065,
      0.17693111873458683,
      0.18411555639141347,
      0.14998585738855477,
      0.16290793351923888,
      0.13247778865887722,
      0.14744059775753568,
      0.12019739061043735,
      0.1357207253216405,
      0.11111148363732948,
      0.12654659249383501,
      0.10411399820040436,
      0.11916844841943953,
      0.09855248374768426,
      0.11309980979237086,
      0.09401835095862819,
      0.10801321167166152,
      0.09024345150414942,
      0.10368096816836246,
      0.08704495703987776,
      0.09994024951853031,
      0.08429416562365688,
      0.0966717276453238,
      0.08189797673488046,
      0.09378607129286276,
      0.07978744003656031,
      0.09121514329306216,
      0.07791043129863519,
      0.08890610626191069,
      0.07622682764856034,
      0.08681738009921289,
      0.07470524582460293,
      0.08491580961869441,
      0.07332078582296504
    ],
    "stds": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ]
  },
  "effective_subspace_dim": {
    "means": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ],
    "stds": [
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0,
      0.0
    ]
  }
}

# Available Parameters
{
  "learning_rate": {
    "type": "float",
    "current_value": 0.05,
    "description": "Parameter learning_rate"
  },
  "num_iterations": {
    "type": "int",
    "current_value": 50,
    "description": "Number of federated rounds T"
  },
  "batch_size": {
    "type": "int",
    "current_value": 64,
    "description": "Local minibatch size B"
  },
  "momentum": {
    "type": "float",
    "current_value": 0.9,
    "description": "Momentum coefficient mu"
  },
  "subspace_dim": {
    "type": "int",
    "current_value": 20,
    "description": "Subspace dimension r"
  },
  "local_steps": {
    "type": "int",
    "current_value": 5,
    "description": "Local SGD steps per round tau"
  },
  "client_fraction": {
    "type": "float",
    "current_value": 0.5,
    "description": "Client sampling fraction C"
  },
  "num_clients": {
    "type": "int",
    "current_value": 10,
    "description": "Total number of clients N"
  },
  "dataset_size": {
    "type": "int",
    "current_value": 2000,
    "description": "Parameter dataset_size"
  },
  "input_dim": {
    "type": "int",
    "current_value": 10,
    "description": "Input feature dimension d"
  },
  "n_classes": {
    "type": "int",
    "current_value": 3,
    "description": "Number of classes"
  },
  "l2_reg": {
    "type": "float",
    "current_value": 0.0,
    "description": "L2 regularization strength"
  },
  "classes_per_client": {
    "type": "int",
    "current_value": 2,
    "description": "For noniid_classes strategy: number of dominant classes per client"
  },
  "majority_fraction": {
    "type": "float",
    "current_value": 0.8,
    "description": "For noniid_classes: fraction of each client\\"
  },
  "label_noise_rate": {
    "type": "float",
    "current_value": 0.0,
    "description": "Parameter label_noise_rate"
  },
  "label_noise_clients_fraction": {
    "type": "float",
    "current_value": 0.0,
    "description": "Parameter label_noise_clients_fraction"
  }
}

# Your Task
Select 2-4 key parameters to tune and define their search ranges for Random Search.

## Parameter Type Specifications

### For Float Parameters:
- Specify: `{"type": "float", "min": <value>, "max": <value>, "scaling": "linear" or "log"}`
- Use "log" scaling for parameters that span orders of magnitude (e.g., learning_rate: 0.0001 to 0.1)
- Use "linear" for parameters with narrow ranges

### For Integer Parameters:
- Specify: `{"type": "int", "min": <value>, "max": <value>}`
- Examples: num_layers, num_iterations, batch_size

### For Categorical Parameters:
- Specify: `{"type": "categorical", "values": [val1, val2, ...]}`
- Examples: activation_function, optimizer

## Requirements
1. Select 2-4 parameters that are most likely to affect performance in THIS scenario
2. For each parameter, define appropriate search range based on its current value and expected impact
3. Choose appropriate scaling (linear vs log) for continuous parameters
4. Recommend number of random trials (typically 8-15)

**CRITICAL: Prioritize algorithm-specific parameters!**
- For subspace-based algorithms: ALWAYS include `subspace_dim` or similar if available
- For momentum-based methods: Include `momentum` coefficient if available
- For federated learning: Consider `local_steps`, `client_fraction`, `batch_size`
- Learning rate is important but not the only parameter to tune!

## Output Format (MUST be valid JSON)
```json
{
  "search_space": {
    "learning_rate": {"type": "float", "min": 0.001, "max": 0.2, "scaling": "log"},
    "batch_size": {"type": "categorical", "values": [32, 64, 128]},
    "num_layers": {"type": "int", "min": 1, "max": 5}
  },
  "rationale": "Explanation of why these parameters and ranges were chosen for THIS scenario",
  "num_trials": 10,
  "expected_improvement": "What improvement we expect to see with optimized parameters"
}
```

IMPORTANT:
- Return ONLY valid JSON, no extra text
- DO NOT include file editing instructions or diff markers (<<<<<<< SEARCH, =======, >>>>>>> REPLACE)
- DO NOT wrap JSON in code blocks or create new files
- Just output the raw JSON object directly
- Search ranges should be informed by baseline performance and scenario characteristics
- For subspace-based algorithms, consider including subspace_dim, momentum as tunable parameters if available
- num_trials should be 8-15 (balancing exploration vs computational cost)

**Example Response Format (output this EXACTLY, no other text):**
{
  "search_space": {
    "learning_rate": {"type": "float", "min": 0.001, "max": 0.1, "scaling": "log"}
  },
  "rationale": "...",
  "num_trials": 10,
  "expected_improvement": "..."
}
